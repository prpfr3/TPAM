{% extends "../mainmenu/base.html" %}

{% block content_title %}{{ topic.type}} - {{ topic.text }} <br> List of Posts {% endblock %}

{% block content_desc %}
  <!-- <span style="float: center;">
    {% if topic.owner == user %}
      <a href="{% url 'maps:topic_update' topic.id %}">Update Topic - </a>
      <a href="{% url 'maps:topic_delete' topic.id %}">Delete Topic - </a>
      <a href="{% url 'maps:topics' %}">All topics</a>
    {% endif %}
    </span> -->
{% endblock content_desc %}

{% block content %}
  <!--- For future search feature
        https://www.w3schools.com/howto/howto_css_search_button.asp     

  -->
  <p>
  <!-- <a href="{% url 'maps:post_create' topic.id %}">Add new post</a> -->
  <div style="float:center">
    <form>
      <input type="text" placeholder="Search.." name="search"
        {% if search %} 
          value="{{ search }}" 
        {% endif %}>
      <button type="submit"><i class="fa fa-search"></i></button>
      <a href="{% url 'maps:topic_detail' topic.id %}"><i class="fa fa-undo"></i></a>
    </form>
  </div>
  </p>
  
  <p>
  {% for post in posts %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h1>
          <a href="{% url 'maps:post_detail' post.id %}">{{ post.title }}</a>
        </h1>
          <h3>
            {{ post.publish|date:'M d, Y H:i' }} 
          </h3>
      </div> <!-- panel-heading -->

      <div class="panel-body">
        <!-- {% autoescape off %}
        <div>{{ post.body }}</div>
        {% endautoescape %}
        {% if post.url %}
          <cite>For more information see:- <a href="{{ post.url }}">{{post.url}}</a></cite>
        {% endif %} -->
      </div> <!-- panel body -->

    </div> <!-- panel -->
  {% empty %}
    There are no posts for this topic yet.
  {% endfor %}
</p>

{% endblock content %}